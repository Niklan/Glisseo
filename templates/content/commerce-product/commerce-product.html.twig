{% set bem_block = bem_block ?: ('commerce-product-' ~ product_entity.bundle ~ (elements['#view_mode'] != 'default' ? '-' ~ elements['#view_mode']))|clean_class %}
{% set classes = [
  bem_block,
] %}
<article{{ attributes.addClass(classes) }}>
  {% block content %}
    {{- product|without('variation_attributes') -}}
  {% endblock %}
</article>
