{%
  set bem_block = bem_block ?: ('product-' ~ product_entity.bundle ~ (elements['#view_mode'] != 'default' ? '-' ~ elements['#view_mode']))|clean_class
%}
{%
  set classes = [
    bem_block,
  ]
%}
<article{{ attributes.addClass(classes) }}>
  {{- product|without('variation_attributes') -}}
</article>
