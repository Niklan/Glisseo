{%
  set block = block ?? bem_block([
    product_entity.getEntityTypeId(),
    product_entity.bundle(),
    view_mode != 'default' ? view_mode,
  ])
%}
{%
  set classes = [
    bem(block),
  ]
%}
<article{{ attributes.addClass(classes) }}>
  {% block commerce_product %}
    {{ title_prefix }}
    {{ title_suffix }}

    {% block content %}
      {{- product|without('variation_attributes') -}}
    {% endblock content %}
  {% endblock commerce_product %}
</article>
